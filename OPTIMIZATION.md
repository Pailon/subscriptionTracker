# üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞

## –£–¥–∞–ª—ë–Ω–Ω—ã–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### Frontend

#### 1. `frontend/src/lib/api.ts`
**–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:**
- `updateSubscription()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
- `deleteSubscription()` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–µ—Ç UI –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è)

**TODO:** –í–µ—Ä–Ω—É—Ç—å —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–∞–ª–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏

#### 2. `frontend/src/store/useSubscriptionStore.ts`
**–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:**
- `updateSubscription()` - –º–µ—Ç–æ–¥ store –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `deleteSubscription()` - –º–µ—Ç–æ–¥ store –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞:** –°–≤—è–∑–∞–Ω–Ω—ã–µ API —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

**TODO:** –í–µ—Ä–Ω—É—Ç—å –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### 3. `frontend/src/utils/calculations.ts`
**–£–¥–∞–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã:**
- `startOfMonth` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `endOfMonth` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `addMonths` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ü—Ä–∏—á–∏–Ω–∞:** –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `Calendar.tsx`, –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —Ç–∞–º –Ω–∞–ø—Ä—è–º—É—é

### Backend

#### 1. `backend/src/services/notification.service.ts`
**–£–¥–∞–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã:**
- `and` –∏–∑ drizzle-orm (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `lte` –∏–∑ drizzle-orm (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ü—Ä–∏—á–∏–Ω–∞:** –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `eq` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

## –ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫

1. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `frontend/src/lib/api.ts`:
```typescript
export async function updateSubscription(
  id: number,
  data: Partial<NewSubscription>
): Promise<Subscription> {
  return fetchWithAuth(`/subscriptions/${id}`, {
    method: 'PATCH',
    body: JSON.stringify(data),
  });
}

export async function deleteSubscription(id: number): Promise<void> {
  return fetchWithAuth(`/subscriptions/${id}`, {
    method: 'DELETE',
  });
}
```

2. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –º–µ—Ç–æ–¥—ã –≤ `frontend/src/store/useSubscriptionStore.ts`:
```typescript
updateSubscription: (id: number, data: Partial<NewSubscription>) => Promise<void>;
deleteSubscription: (id: number) => Promise<void>;
```

–ò –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ store.

3. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EditSubscriptionModal.tsx` –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π `AddSubscriptionModal.tsx`

4. –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –≤ `SubscriptionCard.tsx`

## –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- ‚úÖ –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å TODO
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
- ‚úÖ Backend endpoints –¥–ª—è update/delete –æ—Å—Ç–∞–ª–∏—Å—å (—Ä–∞–±–æ—Ç–∞—é—Ç)
- ‚úÖ –õ–µ–≥–∫–æ –≤–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–£–¥–∞–ª–µ–Ω–æ:**
- 3 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–∞ (frontend)
- 2 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–∞ (backend)

**–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ (—Å TODO):**
- 2 API —Ñ—É–Ω–∫—Ü–∏–∏ (frontend)
- 2 store –º–µ—Ç–æ–¥–∞ (frontend)

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ:**
- –í—Å–µ backend endpoints (PATCH, DELETE —Ä–∞–±–æ—Ç–∞—é—Ç)
- –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ –≤–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

